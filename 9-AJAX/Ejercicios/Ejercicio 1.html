<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Ejercicio 1</title>
<script src="http://code.jquery.com/jquery-1.9.0.js"></script>
<script type="text/javascript">
//Modifica por medio de métodos de jQuery la configuración por defecto para las peticiones AJAX de una página para que cumpla con las siguientes características:
//1. Establece un tiempo máximo de petición de 20 segundos. 2. Uso de envíos por POST por defecto. 3. Indica que, el tipo de respuesta esperado sea por defecto JSON

 $(document).ready(function(){
   $("div.elem").one("click",function(e){
		//establecemos por defecto el metodo GET y 2000 milisegundos o 2 segundos como tiempo de respuesta
		$.ajaxSetup({
		   //TIPO DE PETICION : GET o POST
		   type : 'POST', // 2. Uso de envíos por POST por defecto
		   timeout: 20000,//1. Establece un tiempo máximo de petición de 20 segundos
		});
		
		 //peticion ajax
		/*Peticion que procesara una respuesta JSON*/
		 $.ajax({
		   // URL a la que realizar la petición
		   url : 'target.php',

		   // información a enviar en la petición
		   data : { id : 123 , segundoparametro : "valor" },
		   //data : "id=123&segundoparametro=valor" ,
		   
		   
		 
		   // tipo de respuesta esperada
		   dataType : 'json', //3. Indica que, el tipo de respuesta esperado sea por defecto JSON
		   // función controladora de respuesta, que recibe como parámetro
		   // la respuesta obtenida
		   success : function(json) {
			  console.log(json);
		   }
		});
		///////////////////
   });
});


</script>
<style type="text/css">

</style>
</head>
<body>
	<div class="elem">
		<h2>Enviar peticion por servidor mediante jQuery AJAX</h2>
		<button>Boton ejecutar</button>
	</div>
	</div>
</body>
</html>